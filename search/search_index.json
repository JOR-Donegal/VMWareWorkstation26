{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Introduction","text":"<p>VMWare Workstation</p> <p>In our courses, desktop virtualization is done using VMWare Workstation or Microsoft Hyper-V. In these notes, I am looking at VMWare Workstation technology and we refer to these technologies as Virtual Machine Managers (VMMs). Your physical computer or laptop is referred to as the host computer. We will also refer to physical servers in the data center as hosts.</p> <p>You need to develop a good skill level and familiarity and understand what you can and cannot do with Virtual Machines (VMs). You also need to understand snapshots, cloning and the VM network environment. The examples I give or details in my notes may be version specific and relate to a particular distro of Linux, it is your responsibility to ensure everything works. I don\u2019t give step by step instructions for everything you have to do.</p> <p>Figuring out how to do things is part of the exercise!</p> <p>When you finish... You should show that you have completed and tested the topics, snapshots, clones and networking. </p> <p>You should have a summary table of data and three sketches. You must establish that you have tested as specified. You should be able to draw some conclusions as to the application of this technique, where each LAN type might be used, duration, etc.</p>"},{"location":"1.%20Getting%20Started/a/","title":"Installation","text":"<p>Installation used to be download and run the installer...not any more. Finding a source of the installer is the first challenge. At time of writing you need to register for an account from Broadcom, then you download and install.</p> <p>When you run for the first time, you select to that the license is for personal use, everything should work.</p> <p>Now the real pain often starts.</p> <p>Microsoft and VMWare don't play well together. If you have anything that uses Hyper-V or Docker already installed, then things may not work. Do some background reading on the problem and decide if its an issue for you.</p>"},{"location":"1.%20Getting%20Started/a/#nested-virtualization","title":"Nested Virtualization","text":"<p>If you want to run Docker or Hyper-V in a VM (we will!) then you need nested virtualization. This is where VMWare can host an OS which also provides virtualization.</p> <p>To test if this is working, create a VM and tick the box to enable nested virtualization. </p> Fig 1. Settings. <p>On most new systems, when I try to run this VM, this fails! </p>"},{"location":"1.%20Getting%20Started/a/#fix-in-september-2025","title":"Fix in September 2025","text":"<p>I now run the following from the command line.</p> <pre><code>bcdedit /set hypervisorlaunchtype off\n</code></pre> <p>I also ran gpedit, the policy editor.</p> Fig 2. Settings. <p>I had to turn off security to make nested virtualization work. Then I do a reboot and test again.</p>"},{"location":"1.%20Getting%20Started/b/","title":"First use","text":"<p>Before you start, find the documentation for the version of VMWare Workstation you are using, from the VMWare web site.</p> <p>You can find a video where I walk through building a Linux VM here.</p> <p>A video walk through demonstrating how to build a Windows 10 VM can be found here.</p> <p>A video walk through demonstrating how to build a Windows 2016 VM can be found here.</p> Fig 3. A VM instance <p>I keep my VMs tidy on a per topic basis. For example, all my VMs for the module \u201cNETW CP901 Enterprise and Data Center Networking\u201d sit in a folder with the course code.</p> <p>Create an appropriate folder for this module, keep VMs for this module in it.</p>"},{"location":"1.%20Getting%20Started/b/#exercise","title":"Exercise","text":"<p>Based on the video above</p> <ol> <li>Create a VM called Ubuntu 24.04 Desktop.</li> <li>Create a VM called Ubuntu 24.04 Server.</li> <li>Update the descriptions in VMWare Workstation</li> </ol> <p>Everything we do is based on the methodology Research then Do, then Test and Document.</p> <p>What is an appropriate test to verify that you have completed the above work?</p>"},{"location":"1.%20Getting%20Started/c/","title":"Scripting","text":"<p>Locate \u201cUsing VMware Workstation Pro\u201d from the VMWare site. Find \"Using the vmrun Command to Control Virtual Machines\" Run the command vmrun and document; - Flags - Power Commands - Snapshot Commands - Guest OS commands</p> <p>Try some commands. Create a clone of a VM, start it, stop it and then delete it.</p> <p>There is a newer tool available since Workstation 17.6, vmcli. Do some reading and see if that works. Give it a try and let me know how you got on.</p>"},{"location":"2.%20Snapshots%20and%20Clones/a/","title":"Snapshots","text":"<p>A snapshot (the term is taken from photography) is the ability to take a copy of the state of a system at a definite point in time. In most cases an actual copy is not taken, the management system uses clever mechanisms to track changes which expose the snapshot functionality; it looks like there is a copy, there isn\u2019t!</p> <p>When you take a snapshot, the original virtual disk (.vmdk) becomes read-only. All new changes go into a delta file (also called a redo log). These contain any blocks modified since the snapshot.</p> <p>Taking a snapshot of a virtual machine saves its current state and enables you to return to the same state repeatedly. When you take a snapshot, Workstation captures the entire state of the virtual machine. You can use the snapshot manager to review and act on the snapshots for an active virtual machine.</p> <p>Note that this process is not fool proof. Suppose you snapshot a VM when it is in the middle of a transaction. If you then revert to that snapshot at a later time, the VM may not be consistent with whatever happened during the transaction. It is best to take snapshots of a VM which is shut down and also it is best to use snapshots with VMs that do not keep state. Taking snapshots of a live database server could cause issues!</p> <p>We will commonly use this functionality before doing updates, or installing software, or when any event is imminent which might threaten the integrity of the VM. Although we can make multiple levels of snapshot, we rarely do. We also keep our snapshots short-lived. This is because of performance implications. In this practical, you will take, revert and delete snapshots.</p> <p>Databases and file systems may have the capability to support snapshots and most enterprise storage environments do.</p>"},{"location":"2.%20Snapshots%20and%20Clones/a/#exercise","title":"Exercise","text":"<ol> <li>Download \u201cUsing VMware Workstation for VMware Workstation X\u201d from the VMWare site.</li> <li>Review the section \u201cTaking Snapshots of Virtual Machines\u201d.</li> <li>Clearly understand all the actions documented.</li> <li>Using Snapshots to preserve virtual machine states</li> <li>Using the Snapshot Manager</li> <li>Take a Snapshot of a Virtual Machine</li> <li>Revert to a Snapshot</li> <li>Deleting a Snapshot</li> </ol> <p>List the files in the VM directory before taking a snapshot</p> <p>Using your VM, exercise the above listed functions and test. During this process, check to see what file types are created, what size they are and whether they are deleted once you finish with the snapshots. Identify each file type and its extension.</p>"},{"location":"2.%20Snapshots%20and%20Clones/a/#testing","title":"Testing","text":"<p>You should show that you have completed and tested the five specified topics. You should be able to draw some conclusions as to the application of this technique, where it might be used, duration, etc. Your records should demonstrate that you; 1. Use the methodology Research then Do, then Test and Document 2. Fully understand the implications of snapshots. 3. You understand their application, where and when to use them. 4. Know the file types to expect while you have live snapshots, before and after.</p>"},{"location":"2.%20Snapshots%20and%20Clones/b/","title":"Clones","text":"<p>Installing a guest operating system and applications can be time consuming. On a recent install of Windows Server, the installation took several days (patching, reboot, more patching, corporate branding, hardening). With clones, you can make many copies of a virtual machine from a single installation and configuration process. Cloning a virtual machine is faster and easier than copying it. A clone is a full copy of a parent VM; an existing VM created previously. Crudely, we could just copy the entire folder of a VM, rename the folder and we have created a clone. There are cases where we do this. However, it can cause us problems, and these should be discussed with your lecturer. As a quick summary, many modern computers generate globally unique IDs (GUID) for resources and rely on them being unique. If we crudely copy a VM, these GUIDs are no longer unique. Another issue is network cards. Every Ethernet card in the world has a unique address. If you make a direct copy of a VM, both will have the same Ethernet address in their network cards.</p> <p>A linked clone is harder to explain; it\u2019s a combination of a snapshot and a clone. It is a unique virtual machine, but it shares virtual disks with a parent VM. Linked clones are really useful for doing lab exercises; we can create a linked clone in seconds and delete it when we are done. Clones are useful when you must deploy many identical virtual machines. Typically, when we build a virtual host, we will create gold images of each OS and clone from these images. If I need a new Windows Server file server, it will take hours or days to build from scratch. It will take a few minutes to clone form an existing VM.</p>"},{"location":"2.%20Snapshots%20and%20Clones/b/#research","title":"Research","text":"<p>Download \u201cUsing VMware Workstation X Pro\u201d from the VMWare site. Review the section \u201cCloning Virtual Machines\u201d.</p> <p>Understand; - Linked Clones - Full Clones - Template Mode</p> <p>You should have an existing Linux client and server which are fully updated. Shut them down.</p> <p>There is a description field for each VM, ensure you document the VMs before cloning.</p>"},{"location":"2.%20Snapshots%20and%20Clones/c/","title":"Full Clone","text":"<p>Create a full clone of the existing server VM</p> <ul> <li>Check how long it takes</li> <li>Examine the disk files afterwards, for both the parent and child VM.</li> <li>Call the new VM OS-L00xxxxxx where;<ul> <li>OS is the OS type, for example UB2404</li> <li>L00xxxxxx is your L number</li> </ul> </li> </ul> <p>Restart and test the parent and child VMs.</p> <ul> <li>Can they all use the network?</li> <li>Check the MAC address of the network card on both.</li> <li>Are they the same?</li> </ul> <p>Update the description in VMWare Workstation</p>"},{"location":"2.%20Snapshots%20and%20Clones/c/#linked-clone","title":"Linked clone","text":"<p>Make a linked clone of the existing client VM.</p> <p>Check how long it takes.</p> <p>Examine the disk files afterwards, for both the parent and child VM.</p> <p>Call the new VM OS-L00xxxxxx-Date where; - OS is the OS type, for example UB2404 - L00xxxxxx is your L number - Date is todays date.</p> <p>Linked clones are normally ephemeral, putting a date on is a useful note to yourself that this can be deleted once used.</p> <p>Restart and test the parent and child VMs. - Can they all use the network? - Check the MAC address of the network card on both. - Are they the same?</p> <p>You should be able to draw some conclusions as to the comparative efficiency and application of full and linked clones.</p> <p>Delete the linked clone and clean up as you are finished.</p>"},{"location":"3.%20Networking/a/","title":"Research","text":"<p>Download \u201cUsing VMware Workstation X Pro\u201d from the VMWare site. Review the section \u201cConfiguring Network Connections\u201d. You need to read and understand the full chapter!</p> <p>Go to the tab Edit-&gt;Virtual Network Editor.</p> <p>Click on Change Settings.</p> <p>There are three networks configured.</p> <p>Identify the networks, ensure you can sketch all the networks and that you understand how they work.</p> <p>Document the full configuration of all the networks in a spreadsheet and diagram (e.g. what DHCP exists, how a VM gets DNS, host address, what the gateways are).</p>"},{"location":"3.%20Networking/b/","title":"NAT'd Network","text":"<p>We cover NAT in detail in the network module, for now, do some background reading and at least understand the basics.</p> <p>The default for any installation is for new VMs to be NAT\u2019d to the outside network. Can you explain the advantages of this configuration?</p> <ol> <li>Connect your client VM to the NAT network</li> <li>Boot your client VM and reconnoiter the NAT network.</li> <li>Check the client VM\u2019s network card. It should have been connected to the NAT VLAN by default. Confirm this is the case.</li> <li>Using traceroute and ping, identify the network topology from your VM to the internet and ensure you can sketch it out. You may have to install traceroute!</li> <li>Can the host computer ping the client VM? How?</li> <li>Shutdown your client VM. Always shut down from the operating system itself!</li> </ol>"},{"location":"3.%20Networking/c/","title":"Host Only Network","text":"<ol> <li>Go to the tab Edit-&gt;Virtual Network Editor.</li> <li>Create two new host-only networks without DHCP but with host connectivity as VMNet2 and VMNet3.</li> <li>Document and sketch these networks as before.</li> <li>Make sure your server VM is powered down.</li> <li>Create a linked clone of the server VM.</li> <li>Add a second network card to this clone and connect it to VMNet2. </li> <li>Start the server clone. </li> <li>Verify and confirm the configuration of the new NIC.</li> <li>What connectivity do you have from this NIC?</li> <li>Give it an appropriate IP address with a last octet of .103</li> <li>Make sure your Desktop VM is powered down.</li> <li>Create a linked clone of the desktop VM.</li> <li>Change its network setting connect to VMNet2.</li> <li>Start the desktop VM and give it a valid IP address for VMNet2 with a last octet of .51</li> <li>Can you ping the server VM interface on VMNet2? </li> <li>Can you ping the host interface on VMNet2?</li> <li>Can you ping the host interface on the physical LAN?</li> </ol> <p>Now set the network interface on your client VM to DHCP and shut both clone VMs down.</p>"},{"location":"3.%20Networking/d/","title":"Bridged Network","text":"<p>This exercise requires administrator privildge, you cannot carry it out on University laboratory computers.</p> <ol> <li>In VMWare Workstation, set your Client VM to connect to the bridged LAN, this is normally VMNet0.</li> <li>Start the Client VM and let it boot.</li> <li>Use ip a to identify your IP address.</li> </ol> <p>Draw the network from the perspective of the GUI VM; What can you connect to?</p> <p>Note that the bridged only network can cause disruption on the host\u2019s LAN and you should not use it without first discussing with your lecturer. If you have more than one network card, you can have more than one bridged network.</p> Fig 4. Bridged Network <p>In Fig 4, I manually set vmnet0 to a built-in network card. I then created a new vmnet2 and manually bridged it to a separate network card. I can select either vmnet in each of my VMs, or I can add a virtual network adapter and use both.</p>"},{"location":"3.%20Networking/e/","title":"Lan Segments","text":"<p>There is a final network option called a LAN segment. This is an Ethernet segment which has no other functionality and no connection to the host or to the external network. You can join VMs to it and it is the same as connecting them to an unmanaged switch. Any VM on a LAN segment will need a static IP address; alternatively, one of your VMs should be a DHCP server. </p>"},{"location":"3.%20Networking/e/#exercise","title":"Exercise","text":"<p>Create a LAN segment and move two VMs to it. Ensure they have static IP information and test that they can ping each other.</p>"}]}